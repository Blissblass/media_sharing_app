{"version":3,"sources":["components/UserContext.jsx","components/Colours.js","components/NavbarButtons.jsx","components/Navbar.jsx","components/Notification.jsx","components/Alerts.jsx","components/SongInfo.jsx","components/Song.jsx","components/Feed.jsx","components/CreateButton.jsx","components/PopupBox.jsx","components/NewSongPopup.jsx","components/SearchBar.jsx","components/Home.jsx","components/Login.jsx","components/Signup.jsx","components/ProtectedRoute.jsx","components/AuthRoute.jsx","components/UserProfSong.jsx","components/UserLikes.jsx","components/UserPosts.jsx","components/UserInfo.jsx","components/UserProfile.jsx","index.jsx"],"names":["UserContext","createContext","Colours","black","white","grey","blue","NavbarButtons","props","user","className","to","id","Button","type","variant","size","username","onClick","localStorage","removeItem","setUser","Navbar","useContext","style","backgroundColor","fontSize","color","Notification","useState","show","setShow","Alert","onClose","dismissible","Heading","head","notif","Alerts","notifs","Object","keys","map","key","SongInfo","likes","setLikes","liked","setLiked","likeData","setLikeData","setLoading","song","currUser","useEffect","a","fetch","method","headers","Headers","Accept","body","JSON","stringify","liker_id","then","data","json","length","fetchLiked","display","alignItems","justifyContent","cursor","marginRight","like","old","title","Song","controls","width","controlsList","src","media","setPosts","oldPosts","filter","post","Feed","setSongs","useLayoutEffect","fetchData","Spinner","loading","height","animation","Stack","visibility","gap","songs","CreateButton","position","bottom","right","handleSet","PopupBox","file","setFile","disabled","setDisabled","uploading","setUploading","handleClose","Modal","centered","onHide","Header","closeButton","Title","Body","onSubmit","e","preventDefault","currentTarget","value","mediaLink","URL","createObjectURL","formData","FormData","append","songData","oldSongs","htmlFor","required","accept","onChange","inputFile","files","split","textDecoration","Footer","form","NewSongPopup","oldShow","SearchBar","queryStr","setQueryStr","placeholder","target","Home","Login","top","inputs","email","password","setNotifs","setItem","error","SignUp","password_confirmation","errors","ProtectedRoute","element","AuthRoute","UserProfSong","UserLikes","likedSongs","UserPosts","createdSongs","setCreated","UserInfo","UserProfile","useParams","profUser","setProfUser","profUserFollows","setUserFollows","profLikes","setProfLikes","profSongs","setProfSongs","status","following","setFollowing","follows","followee_id","follower_id","handleFollow","Date","created_at","toDateString","Index","parse","getItem","Provider","exact","path","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.bb56d65a.chunk.js","sourcesContent":["import { createContext } from 'react';\n\nconst UserContext = createContext(null);\nexport default UserContext;\n","\nconst Colours = {\n  black: '#363636',\n  white: '#F8F8F8',\n  grey: '#EBEBEB',\n  blue: '#3F87EA'\n};\n\nexport default Colours;","import React from \"react\";\nimport { Button } from \"react-bootstrap\";\nimport { Link } from \"react-router-dom\";\n\nconst NavbarButtons = (props) => {\n  const handleLogout = () => {\n    localStorage.removeItem(\"soudio-user\");\n    props.setUser(null);\n  };\n\n  return props.user ? (\n    <div className=\"me-3\">\n      <Link to={`/user/${props.user.id}`}>\n        <Button\n          type=\"button\"\n          variant=\"outline-primary\"\n          size=\"lg\"\n          className=\"me-5 ms-5\"\n        >\n          {props.user.username}\n        </Button>\n      </Link>\n\n      <Button\n        type=\"button\"\n        variant=\"outline-primary\"\n        size=\"lg\"\n        onClick={handleLogout}\n      >\n        Log Out\n      </Button>\n    </div>\n  ) : (\n    <div className=\"me-3\">\n      <Link to=\"/login\">\n        <Button\n          type=\"button\"\n          variant=\"outline-primary\"\n          size=\"lg\"\n          className=\"me-5 ms-5\"\n        >\n          Log in\n        </Button>\n      </Link>\n\n      <Link to=\"/signup\">\n        <Button type=\"button\" variant=\"outline-primary\" size=\"lg\">\n          Sign Up\n        </Button>\n      </Link>\n    </div>\n  );\n};\n\nexport default NavbarButtons;\n","import React, { useContext } from \"react\";\nimport './Navbar.css'\nimport Colours from \"./Colours\";\nimport NavbarButtons from \"./NavbarButtons\";\nimport { Link } from \"react-router-dom\";\nimport UserContext from \"./UserContext\";\n\nconst Navbar = (props) => {\n  const { user, setUser } = useContext(UserContext);\n\n  return(\n    <nav style={{backgroundColor: Colours.black}} \n        className=\"navbar navbar-dark navbar-expand-lg justify-content-between align-items-center shadow\">\n\n      <h3 style={{fontSize:40, color: Colours.white}}  className=\"navbar-brand m-3 ms-2 \">\n        <Link to=\"/\" className=\"text-decoration-none text-white border-end  p-3\">Sound.io</Link>\n      </h3>\n      <NavbarButtons user={user} setUser={setUser} />\n    </nav>\n  )\n};\n\nexport default Navbar;","import React, { useState } from \"react\";\nimport { Alert } from \"react-bootstrap\";\n\nconst Notification = (props) => {\n  const [show, setShow] = useState(true);\n\n  return(\n    <Alert className=\"position-relative container opacity-75\" show={show} variant=\"secondary\" onClose={() => setShow(false) } dismissible>\n      <Alert.Heading>{`${props.head} ${props.notif}`}</Alert.Heading>\n    </Alert>\n  )\n};\n\nexport default Notification;","import React from \"react\";\nimport Notification from \"./Notification\";\n\nconst Alerts = (props) => {\n\n  return(\n    props.notifs ? \n      <div className=\"position-absolute top-50 ms-5\">\n        {Object.keys(props.notifs).map(key => (\n          <Notification key={key} head={key} notif={props.notifs[key][0]} />\n        ))}\n      </div>\n    : \n      null\n  )\n};\n\nexport default Alerts;","import React, { useEffect, useState } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport { FaRegThumbsUp } from \"react-icons/fa\";\n\nconst SongInfo = (props) => {\n  const [likes, setLikes] = useState(props.likes);\n  const [liked, setLiked] = useState(false);\n  const [likeData, setLikeData] = useState(null);\n  const { setLoading, song, currUser } = props;\n\n  useEffect(() => {\n    const fetchLiked = async () => {\n      fetch(\"https://sound-io-backend.herokuapp.com/api/already_liked\", {\n        method: \"POST\",\n        headers: new Headers({\n          \"Content-Type\": \"application/json\",\n          Accept: \"application/json\",\n        }),\n        body: JSON.stringify({ id: song.id, liker_id: currUser.id }),\n      })\n        .then((data) => data.json())\n        .then((data) => {\n          if (data.length > 0) {\n            setLiked(true);\n            setLikeData(data[0]);\n          }\n          setLoading(false);\n        });\n    };\n\n    fetchLiked();\n  }, [setLoading, currUser.id, song.id]);\n\n  const handleLike = () => {\n    const data = {\n      like: {\n        type: \"Song\",\n        liker_id: props.currUser.id,\n        id: props.song.id,\n      },\n    };\n\n    if (liked) {\n      fetch(`https://sound-io-backend.herokuapp.com/likes/${likeData.id}`, {\n        method: \"DELETE\",\n      });\n      setLiked(false);\n      setLikes((old) => (old -= 1));\n    } else {\n      fetch(\"https://sound-io-backend.herokuapp.com/likes\", {\n        method: \"POST\",\n        headers: new Headers({\n          \"Content-Type\": \"application/json\",\n          Accept: \"application/json\",\n        }),\n        body: JSON.stringify(data),\n      })\n        .then((data) => data.json())\n        .then((data) => setLikeData(data));\n      setLiked(true);\n      setLikes((old) => (old += 1));\n    }\n  };\n\n  return (\n    <div className=\"px-2\" style={{ display: \"flex\", alignItems: \"center\" }}>\n      <div\n        style={{\n          display: \"flex\",\n          alignItems: \"center\",\n          justifyContent: \"space-between\",\n        }}\n      >\n        <h2 className=\"mb-1 me-2\">{likes}</h2>\n        <FaRegThumbsUp\n          className=\"mb-2\"\n          style={{\n            fontSize: 40,\n            cursor: \"pointer\",\n            color: liked ? \"#087cfc\" : \"#302c34\",\n            marginRight: 60,\n          }}\n          onClick={handleLike}\n        />\n      </div>\n      <div>\n        <h2>{props.title}</h2>\n        <h4>\n          <Link\n            className=\"text-secondary text-decoration-none\"\n            to={`/user/${props.user.id}`}\n          >\n            {props.user.username}\n          </Link>\n        </h4>\n      </div>\n    </div>\n  );\n};\n\nexport default SongInfo;\n","import React, { useContext } from \"react\";\nimport Colours from './Colours';\nimport SongInfo from './SongInfo';\nimport { BiTrash } from 'react-icons/bi';\nimport UserContext from \"./UserContext\";\n\n\nconst Song = (props) => {\n  const { user } = useContext(UserContext); \n\n  const handleDelete = () => {\n    fetch(`https://sound-io-backend.herokuapp.com/songs/${props.song.id}`, {\n      method: 'DELETE'\n    })\n\n    props.setPosts(oldPosts => oldPosts.filter(post => post.id !== props.song.id))\n  };\n\n  return(\n    <div className=\"card container w-75 mt-4\" style={{backgroundColor: Colours.white}}>\n      <div className=\"p-4\" style={{display: 'flex', alignItems: 'center', justifyContent: 'space-between'}}>      \n        <div>\n          <SongInfo song={props.song} title={props.song.title} user={props.song.user} currUser={user} likes={props.song.likes} \n            setLoading={props.setLoading} />\n        </div>\n        <audio controls style={{width: 650}} controlsList=\"nodownload\"> \n          <source src={props.song.media} type=\"audio/mp3\" /> \n        </audio>\n\n        { user.id === props.song.user.id ? \n          <BiTrash style={{fontSize: 40, cursor: 'pointer'}} onClick={handleDelete} />\n        :\n          null\n        }\n      </div>\n    </div>\n  )\n};\n\nexport default Song;","import React, { useLayoutEffect } from \"react\";\nimport Song from './Song';\nimport { Stack, Spinner } from 'react-bootstrap';\n\nconst Feed = (props) => {\n  const { setSongs, setLoading } = props;\n\n  useLayoutEffect(() => {\n    const fetchData = async () => { \n      fetch('https://sound-io-backend.herokuapp.com/api/home_feed')\n        .then(data => data.json())\n        .then(data => {\n          setSongs(data);\n          setLoading(false);\n        });\n    }\n    fetchData();\n  }, [setSongs, setLoading]);\n\n  return(\n    <div className=\"mt-3\">\n      <Spinner className=\"mx-auto mt-5\" style={{display: props.loading ? \"block\" : \"none\", width: 100, height: 100}} \n        animation=\"grow\" variant=\"primary\"  />\n      <Stack className=\"mb-4\" style={{visibility: props.loading ? \"hidden\" : \"visible\"}} gap={4}>\n        { props.songs.length > 0 ? \n\n          props.songs.map(song => <Song key={song.id} song={song} setLoading={props.setLoading} setPosts={props.setSongs} />) \n        : \n          <h1 style={{display: props.loading ? \"none\" : \"block\"}} className=\"text-center text-white mt-4\">No songs available.</h1> \n        }\n      </Stack>\n    </div>\n  )\n};\n\nexport default Feed;","import React from \"react\";\nimport { Button } from \"react-bootstrap\";\n\nconst CreateButton = (props) => {\n\n  return(\n    <Button \n      type=\"button\" variant=\"outline-primary\" size=\"lg\" \n      style={{position: 'fixed', bottom: 40, right: 35}}\n      onClick={props.handleSet}\n    >\n      + New\n    </Button>\n  )\n};\n\nexport default CreateButton;","import React, { useState, useContext } from \"react\";\nimport { Modal, Button } from \"react-bootstrap\";\nimport UserContext from \"./UserContext\";\n\nconst PopupBox = (props) => {\n  const [file, setFile] = useState(null);\n  const [disabled, setDisabled] = useState(false);\n  const [uploading, setUploading] = useState(false);\n  const { user } = useContext(UserContext);\n\n  const handleClose = () => {\n    props.handleSet(old => !old);\n  }; \n\n  const resetFile = () => {\n    setFile(null);\n    setDisabled(false);\n  };\n\n  const handleFile = (e) => {\n    const inputFile = e.currentTarget.files[0];\n    if(!inputFile) return;\n\n    const inputType = inputFile.type.split(\"/\")[0];\n    if(inputType === 'audio') {\n      setFile(inputFile);\n    } else {\n      setDisabled(true);\n    }\n  };\n\n  const handleSubmit = (e) =>  {\n    if (!file || !user) return;\n    e.preventDefault();\n    setUploading(true);\n\n    const title = e.currentTarget[0].value;\n    const mediaLink = URL.createObjectURL(file);\n\n    const formData = new FormData();\n    formData.append('song[media]', file);\n    formData.append('song[user_id]', user.id );\n    formData.append('song[title]', title);\n\n    fetch(\"https://sound-io-backend.herokuapp.com/songs\", {\n      method: 'POST',\n      body: formData \n    })\n      .then(data => data.json())\n      .then(songData => {\n        songData.user = user;\n        songData.likes = 0;\n        songData.media = mediaLink;\n        props.setSongs(oldSongs => [songData, ...oldSongs]);\n        props.handleSet();\n      });\n  }\n\n  return(\n    <Modal centered show={props.show} onHide={handleClose}>\n      <Modal.Header className=\"p-4\" closeButton>\n        <Modal.Title>Upload a Song</Modal.Title>\n      </Modal.Header>\n\n      <Modal.Body>\n        <form id=\"songForm\" onSubmit={handleSubmit}>\n          <div className=\"form-group\">\n            <label htmlFor=\"songTitle\">Song Title:</label>\n            <input id=\"songTitle\" type=\"text\" className=\"form-control form-control-lg mt-1\" required   />\n          </div>\n          <div className=\"form-group mt-4\">\n            <label htmlFor=\"songMedia\">Song File:</label>\n            <input id=\"songMedia\" type=\"file\" className=\"form-control form-control-lg mt-1\" accept=\"audio/*\" \n              onChange={handleFile} required disabled={disabled} />\n            <small className=\"mt-1\" style={{display: disabled ? \"block\" : \"none\", textDecoration: \"underline\", cursor: \"pointer\"}}\n              onClick={resetFile}>\n                Please select an audio file.\n            </small>  \n          </div>\n        </form>\n      </Modal.Body>\n\n      <Modal.Footer >\n        <Button variant=\"secondary\" onClick={handleClose}>\n          Close\n        </Button>\n        {\n          uploading ? \n            <Button type=\"submit\" variant=\"primary\" disabled>\n              Uploading...  \n            </Button>\n          :\n            <Button type=\"submit\" variant=\"primary\" form=\"songForm\" >\n              Upload\n            </Button>\n        }\n      </Modal.Footer>\n\n  </Modal>\n  );\n};\n\nexport default PopupBox;","import React, { useState } from 'react';\nimport CreateButton from './CreateButton';\nimport PopupBox from './PopupBox';\n\nconst NewSongPopup = (props) => {\n  const [show, setShow] = useState(false);\n\n  const handleSet = () => {\n    setShow(oldShow => !oldShow);\n  };\n\n  return(\n    <div>\n      {show ? <PopupBox setSongs={props.setSongs} handleSet={handleSet} show={show} /> : null}\n      <CreateButton  handleSet={handleSet} />\n    </div>\n  )\n};\n\nexport default NewSongPopup;","import React, { useEffect, useState } from \"react\";\nimport { BiSearch } from 'react-icons/bi';\n\n\nconst SearchBar = (props) => {\n  const [queryStr, setQueryStr] = useState(\"\");\n  const setSongs = props.setSongs\n\n  useEffect(() => {\n    if(queryStr.length) {\n      fetch(`https://sound-io-backend.herokuapp.com/api/song_query/?query=${queryStr}`)\n        .then(data => data.json())\n        .then(data => setSongs(data))\n      } else {\n        fetch('https://sound-io-backend.herokuapp.com/api/home_feed')\n          .then(data => data.json())\n          .then(data => {\n            setSongs(data);\n          })\n      }\n    \n  }, [queryStr, setSongs]);\n\n  return(\n    <div className=\"card container mt-4\" style={{width: 900, display: props.loading ? \"none\" : \"block\"}} >\n      <div className=\"p-4 d-flex align-items-center\" >\n        <input type=\"text\" className=\"form-control form-control-lg me-3\" placeholder=\"Search for songs...\" \n          value={queryStr} onChange={(e) => setQueryStr(e.target.value)}  />\n        <BiSearch style={{fontSize: 33}} />\n      </div>\n    </div>\n  )\n}\n\nexport default SearchBar;","import React, { useState } from \"react\";\nimport Feed from \"./Feed\";\nimport NewSongPopup from \"./NewSongPopup\";\nimport SearchBar from './SearchBar';\n\nconst Home = (props) =>  {\n  const [songs, setSongs] = useState([]);\n  const [loading, setLoading] = useState(true);\n\n  return (\n    <div>\n      <NewSongPopup setSongs={setSongs} />\n      <SearchBar loading={loading} setSongs={setSongs} />\n      <Feed loading={loading} setLoading={setLoading} songs={songs} setSongs={setSongs} />\n    </div>\n  );\n}\n\nexport default Home;\n","import React, { useContext } from \"react\";\nimport { Button } from \"react-bootstrap\";\nimport UserContext from \"./UserContext\";\n\nconst Login = (props) => {\n  const { setUser } = useContext(UserContext);\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n\n    const inputs = e.currentTarget;\n    const data = {\n      user: {\n        email: inputs[0].value,\n        password: inputs[1].value,\n      },\n    };\n\n    fetch(\"https://sound-io-backend.herokuapp.com/users/sign_in\", {\n      method: \"POST\",\n      headers: new Headers({\n        \"Content-Type\": \"application/json\",\n        Accept: \"application/json\",\n      }),\n      body: JSON.stringify(data),\n    })\n      .then((data) => data.json())\n      .then((data) => {\n        if (data.username) {\n          props.setNotifs(null);\n          localStorage.setItem(\"soundio-user\", JSON.stringify(data));\n          setUser(data);\n        } else {\n          props.setNotifs(null);\n          props.setNotifs({ \"Error:\": [data.error] });\n        }\n      });\n  };\n\n  return (\n    <div>\n      <div\n        className=\"text-white w-50 text-center\"\n        style={{ position: \"relative\", top: 50 }}\n      >\n        <h1>\n          <strong>Welcome to Sound.io.</strong>\n        </h1>\n        <h2>Listen without limits.</h2>\n      </div>\n\n      <div className=\"card container mt-4 me-4 p-4 w-50 float-end text-center shadow-lg\">\n        <h1>Log In</h1>\n\n        <form onSubmit={handleSubmit}>\n          <input\n            type=\"email\"\n            className=\"form-control form-control-lg mt-3 shadow-sm\"\n            placeholder=\"Email...\"\n            required\n          />\n          <input\n            type=\"password\"\n            className=\"form-control form-control-lg mt-3 shadow-sm\"\n            placeholder=\"Password...\"\n            required\n          />\n          <Button\n            type=\"submit\"\n            variant=\"outline-primary\"\n            size=\"lg\"\n            className=\"me-5 ms-5 mt-4 w-50\"\n          >\n            Log In\n          </Button>\n        </form>\n      </div>\n    </div>\n  );\n};\n\nexport default Login;\n","import React, { useContext } from \"react\";\nimport { Button } from \"react-bootstrap\";\nimport UserContext from \"./UserContext\";\n\nconst SignUp = (props) => {\n  const { setUser } = useContext(UserContext);\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n\n    const inputs = e.currentTarget;\n    const data = {\n      user: {\n        username: inputs[0].value,\n        email: inputs[1].value,\n        password: inputs[2].value,\n        password_confirmation: inputs[3].value,\n      },\n    };\n\n    fetch(\"https://sound-io-backend.herokuapp.com/users\", {\n      method: \"POST\",\n      headers: new Headers({\n        \"Content-Type\": \"application/json\",\n        Accept: \"application/json\",\n      }),\n      body: JSON.stringify(data),\n    })\n      .then((data) => data.json())\n      .then((data) => {\n        if (data.username) {\n          props.setNotifs(null);\n          localStorage.setItem(\"soundio-user\", JSON.stringify(data));\n          setUser(data);\n        } else {\n          props.setNotifs(null);\n          props.setNotifs(data.errors);\n        }\n      });\n  };\n\n  return (\n    <div>\n      <div\n        className=\"text-white w-50 text-center\"\n        style={{ position: \"relative\", top: 50 }}\n      >\n        <h1>\n          <strong>Welcome to Sound.io.</strong>\n        </h1>\n        <h2>Listen without limits.</h2>\n      </div>\n\n      <div className=\"card container mt-4 me-4 p-4 w-50 float-end text-center shadow-lg\">\n        <h1>Sign Up</h1>\n\n        <form onSubmit={handleSubmit}>\n          <input\n            type=\"text\"\n            className=\"form-control form-control-lg mt-2 shadow-sm\"\n            placeholder=\"Username...\"\n          />\n          <input\n            type=\"email\"\n            className=\"form-control form-control-lg mt-3 shadow-sm\"\n            placeholder=\"Email...\"\n          />\n          <input\n            type=\"password\"\n            className=\"form-control form-control-lg mt-3 shadow-sm\"\n            placeholder=\"Password...\"\n          />\n          <input\n            type=\"password\"\n            className=\"form-control form-control-lg mt-3 shadow-sm\"\n            placeholder=\"Password Confirmation...\"\n          />\n          <Button\n            type=\"submit\"\n            variant=\"outline-primary\"\n            size=\"lg\"\n            className=\"me-5 ms-5 mt-4 w-50\"\n          >\n            Sign Up\n          </Button>\n        </form>\n      </div>\n    </div>\n  );\n};\n\nexport default SignUp;\n","import React, { useContext } from \"react\";\nimport UserContext from './UserContext';\nimport { Navigate } from 'react-router-dom';\n\n\nconst ProtectedRoute = (props) => {\n  const { user } = useContext(UserContext);\n  \n  return(\n    user ? <props.element /> : <Navigate to=\"/login\" />\n  )\n};\n\nexport default ProtectedRoute;","import React, { useContext } from \"react\";\nimport UserContext from './UserContext';\nimport { Navigate } from 'react-router-dom';\n\n\nconst AuthRoute = (props) => {\n  const { user } = useContext(UserContext);\n\n  return(\n    user ? <Navigate to=\"/\" /> : <props.element setNotifs={props.setNotifs}  />\n  )\n};\n\nexport default AuthRoute;","import React, { useContext } from \"react\";\nimport UserContext from \"./UserContext\";\nimport Colours from './Colours';\nimport SongInfo from './SongInfo';\nimport { BiTrash } from 'react-icons/bi';\n\nconst UserProfSong = (props) => {\n  const { user } = useContext(UserContext); \n\n  const handleDelete = () => {\n    fetch(`https://sound-io-backend.herokuapp.com/songs/${props.song.id}`, {\n      method: 'DELETE'\n    })\n\n    props.setPosts(oldPosts => oldPosts.filter(post => post.id !== props.song.id))\n  };\n\n  return(\n    <div className=\"card container mt-4\" style={{backgroundColor: Colours.white}}>\n      <div className=\"p-4\" style={{display: 'flex', alignItems: 'center', justifyContent: 'space-between'}}>      \n        <div>\n          <SongInfo song={props.song} title={props.song.title} user={props.song.user} currUser={user} likes={props.song.likes} \n            setLoading={props.setLoading}/>\n        </div>\n        <audio controls style={{width: 650}}> \n          <source src={props.song.media} /> \n        </audio>\n\n        { user.id === props.song.user.id ? \n          <BiTrash style={{fontSize: 40, cursor: 'pointer'}} onClick={handleDelete} />\n        :\n          null\n        }\n      </div>\n    </div>\n  )\n};\n\nexport default UserProfSong","import React, { useContext } from \"react\";\nimport UserProfSong from \"./UserProfSong\";\nimport UserContext from \"./UserContext\";\n\n\nconst UserLikes = (props) => {\n  const { user } = useContext(UserContext);\n\n  return(\n    <div className=\"card container mt-4 p-4 w-75\">\n      <h1>User likes!</h1>\n      { props.likedSongs.length ? \n      props.likedSongs.map(song => <UserProfSong song={song} user={user}\n         key={song.id} setLoading={props.setLoading} setPosts={props.setLiked} />) \n         :\n         <h2 className=\"mx-auto\">User has no liked posts</h2>\n      }\n    </div>\n  )\n};\n\nexport default UserLikes;","import React, { useContext } from \"react\";\nimport UserProfSong from \"./UserProfSong\";\nimport UserContext from \"./UserContext\";\n\n\nconst UserPosts = (props) => {\n  const { user } = useContext(UserContext);\n\n  return(\n    <div className=\"card container mt-4 p-4 w-75\">\n      <h1>User posts!</h1>\n      { props.createdSongs.length ? \n        props.createdSongs.map(song => <UserProfSong song={song} user={user}\n        key={song.id} setLoading={props.setLoading} setPosts={props.setCreated} />) \n        :\n        <h2 className=\"mx-auto\">User has no posts</h2>\n      }\n    </div>\n  )\n};\n\nexport default UserPosts;","import React from \"react\";\nimport UserLikes from \"./UserLikes\";\nimport UserPosts from \"./UserPosts\";\n\nconst UserInfo = (props) => {\n\n  return(\n    <div>\n      <UserPosts createdSongs={props.createdSongs} setCreated={props.setCreated} setLoading={props.setLoading} />\n      <UserLikes likedSongs={props.likedSongs} setLiked={props.setLiked} setLoading={props.setLoading} />\n    </div>\n  )\n};\n\nexport default UserInfo;","import React, { useEffect, useState, useContext } from \"react\";\nimport { useParams } from \"react-router-dom\";\nimport { Spinner } from \"react-bootstrap\";\nimport UserInfo from \"./UserInfo\";\nimport { BsHeart, BsHeartFill } from \"react-icons/bs\";\nimport UserContext from \"./UserContext\";\n\nconst UserProfile = (props) => {\n  const { id } = useParams();\n  const { user } = useContext(UserContext);\n\n  const [profUser, setProfUser] = useState({});\n  const [profUserFollows, setUserFollows] = useState(0);\n  const [profLikes, setProfLikes] = useState([]);\n  const [profSongs, setProfSongs] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [following, setFollowing] = useState({ status: false, id: null });\n\n  useEffect(() => {\n    fetch(`https://sound-io-backend.herokuapp.com/api/fetch_user/${id}`)\n      .then((data) => data.json())\n      .then((data) => {\n        setProfUser(data.user);\n        setProfLikes(data.likes);\n        setProfSongs(data.songs);\n        setUserFollows(data.follows);\n        setLoading(false);\n      });\n\n    fetch(\"https://sound-io-backend.herokuapp.com/api/already_following\", {\n      method: \"POST\",\n      headers: new Headers({\n        \"Content-Type\": \"application/json\",\n        Accept: \"application/json\",\n      }),\n      body: JSON.stringify({ followee_id: id, follower_id: user.id }),\n    })\n      .then((data) => data.json())\n      .then((data) => setFollowing({ status: data.status, id: data.id }));\n  }, [id, user]);\n\n  useEffect(() => {}, [following]);\n\n  const handleFollow = () => {\n    if (following.status) {\n      fetch(`https://sound-io-backend.herokuapp.com/likes/${following.id}`, {\n        method: \"DELETE\",\n      }).then((data) => {\n        setUserFollows((old) => (old -= 1));\n      });\n\n      setFollowing({ status: false, id: null });\n    } else {\n      const data = {\n        like: {\n          id,\n          liker_id: user.id,\n          type: \"User\",\n        },\n      };\n\n      fetch(\"https://sound-io-backend.herokuapp.com/likes\", {\n        method: \"POST\",\n        headers: new Headers({\n          \"Content-Type\": \"application/json\",\n          Accept: \"application/json\",\n        }),\n        body: JSON.stringify(data),\n      })\n        .then((data) => data.json())\n        .then((data) => {\n          setUserFollows((old) => (old += 1));\n        });\n\n      setFollowing({ status: true, id: data.id });\n    }\n  };\n\n  return loading ? (\n    <Spinner\n      className=\"mx-auto mt-5\"\n      style={{ display: loading ? \"block\" : \"none\", width: 100, height: 100 }}\n      animation=\"grow\"\n      variant=\"primary\"\n    />\n  ) : (\n    <div>\n      <div className=\"card container mt-2 p-4\">\n        <div\n          style={{\n            display: \"flex\",\n            justifyContent: \"center\",\n            alignItems: \"center\",\n          }}\n        >\n          <div>\n            {following.status ? (\n              <BsHeartFill\n                style={{ fontSize: 60, cursor: \"pointer\" }}\n                className=\"mt-2\"\n                onClick={handleFollow}\n              />\n            ) : (\n              <BsHeart\n                style={{ fontSize: 60, cursor: \"pointer\" }}\n                className=\"mt-2\"\n                onClick={handleFollow}\n              />\n            )}\n            <h6 className=\"m-0 ms-4\">{profUserFollows}</h6>\n          </div>\n          <div className=\"ms-3 me-5\">\n            <h1 className=\"mb-2\">{profUser.username}'s profile!</h1>\n            <small className=\"opacity-75 ms-5\">\n              Joined {new Date(profUser.created_at).toDateString()}\n            </small>\n          </div>\n        </div>\n      </div>\n      <UserInfo\n        likedSongs={profLikes}\n        setLiked={setProfLikes}\n        createdSongs={profSongs}\n        setCreated={setProfSongs}\n        setLoading={setLoading}\n      />\n    </div>\n  );\n};\n\nexport default UserProfile;\n","import React, { useState } from \"react\";\nimport ReactDOM from \"react-dom\";\nimport { HashRouter as Router, Route, Routes } from \"react-router-dom\";\nimport UserContext from \"./components/UserContext\";\nimport Navbar from \"./components/Navbar\";\nimport Alerts from \"./components/Alerts\";\nimport Home from \"./components/Home\";\nimport Login from \"./components/Login\";\nimport SignUp from \"./components/Signup\";\nimport ProtectedRoute from \"./components/ProtectedRoute\";\nimport AuthRoute from \"./components/AuthRoute\";\nimport UserProfile from \"./components/UserProfile\";\nimport \"./components/index.css\";\nimport \"bootstrap/dist/css/bootstrap.min.css\";\n\nconst Index = () => {\n  const [notifs, setNotifs] = useState(null);\n  const [user, setUser] = useState(\n    JSON.parse(localStorage.getItem(\"soundio-user\"))\n  );\n\n  return (\n    <div>\n      <Router>\n        <UserContext.Provider value={{ user, setUser }}>\n          <Navbar />\n          <Alerts notifs={notifs} setNotifs={setNotifs} />\n          <Routes>\n            <Route exact path=\"/\" element={<ProtectedRoute element={Home} />} />\n            <Route\n              exact\n              path=\"/login\"\n              element={<AuthRoute element={Login} setNotifs={setNotifs} />}\n            />\n            <Route\n              exact\n              path=\"/signup\"\n              element={<AuthRoute element={SignUp} setNotifs={setNotifs} />}\n            />\n            <Route\n              exact\n              path=\"/user/:id\"\n              element={<ProtectedRoute element={UserProfile} />}\n            />\n          </Routes>\n        </UserContext.Provider>\n      </Router>\n    </div>\n  );\n};\n\nReactDOM.render(<Index />, document.getElementById(\"root\"));\n"],"sourceRoot":""}